
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="https://www.w3.org/1999/xhtml">

<head>


 <title>USACO</title>
 <link rel="stylesheet" type="text/css" href="current/usaco.css">
 <script src="current/js/jquery.min.js"></script>
 <script src="current/js/d3.v3.min.js"></script>

<META HTTP-EQUIV="EXPIRES" CONTENT="0">
 <META HTTP-EQUIV="CACHE-CONTROL" CONTENT="NO-CACHE">
 <META HTTP-EQUIV="PRAGMA" CONTENT="NO-CACHE">

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    "HTML-CSS": {
	scale: 85,
	preferredFont: "STIX"
    },
  tex2jax: {
    inlineMath: [['$','$'],['\\(','\\)']],
    processEscapes: true,
    skipTags: ['pre'],
    processClass: "mathjax",
    ignoreClass: "no-mathjax"
  }
});
</script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

</head>

<body class="no-mathjax">
 <div align="center">
  <div class="shadow1">

   <div class="content">

  
 <a href="index.php"><img src="current/images/usaco_logo.png" height="130px" border="0px" /></a> 

    <div class="navbar" align="left" border="10px">
     <ul>
      <li><a href="index.php">Overview</a></li> 
      <li><a href="index.php?page=training">Training</a></li>
      <li><a href="index.php?page=contests">Contests</a></li>
      <li><a href="index.php?page=history">History</a></li>
      <li><a href="index.php?page=staff">Staff</a></li>
      <li><a href="index.php?page=resources">Resources</a></li>
     </ul>
    </div><br/>

   
    


<div style="position:relative; float:left; left:10px; top:-50px; width:550px;"> 
<div class="panel">

<h2> USACO 2024 February Contest, Silver </h2>
<h2> Problem 2. Test Tubes </h2>
 
</div>
</div>

<div align="right" style="position:relative; float:right; right:30px; top:-40px; width:350px;">

<button style="margin-bottom:6px;" type="button" onClick="window.location='index.php?page=feb24results';">Return to Problem List</button><br style="padding-top:6px"/>
Contest has ended.

</div>

<br style="clear:both" />


<div id="last-status" style="padding:10px; position:relative; float:left; left:30px; top:-45px; width:820px; border:1px solid black; background-color:#FFF; " 
	data-response-code="-1" data-sid="-1"> 
   <img src="current/images/ajax.gif"/> <p style="display:inline;"> <b>Log in to allow submissions in analysis mode</b></p>
<div id="trial-information"></div>
<p style="text-align:left;" class="mono prewrap output-data"></p>
</div>

<br style="clear:both" />

<div align="right" style="position:relative; float:right; right:40px; top:-93px; width:350px; z-index:2; padding:0px;">

<form style="padding-top:60px;" action=""> 
<select name="lang" style="background-color:#eee;" id="choose-language">
<option value='en' selected='yes'>English (en)</option>
<option value='hy'>Armenian (hy)</option>
<option value='fr'>French (fr)</option>
<option value='ru'>Russian (ru)</option>
<option value='es'>Spanish (es)</option>
<option value='zh'>Chinese (zh)</option>
</select>
</form>

</div>

<div align="left" style="position:relative; float:left; left:30px; top:-100px; width:840px; z-index:1;"> 
<div align="left" class="problem-text" style='width:800px; padding-top:10px;'>
<span id="probtext-text" class="mathjax">
<p>Bessie has recently gotten into chemistry. At the moment, she has two different
colors $1$ and $2$ of various liquids that don't mix well with one another. She
has two test tubes of infinite capacity filled with $N$ $(1 \leq N \leq 10^5)$
units each of some mixture of liquids of these two colors. Because the liquids
donâ€™t mix,  once they settled, they divided into layers of separate colors.
Because of this, the two tubes can be viewed as strings $f_1f_2\ldots f_N$ and
$s_1s_2\ldots s_N$  where $f_i$ represents the color of the liquid that is $i$
units from the bottom of the first tube, and $s_i$ represents the color of the
liquid that is $i$ units from the bottom of the second tube. It is guaranteed
that there is at least one unit of each color of liquid.

<p>Bessie wants to separate these liquids so that each test tube contains all units
of one color of liquid. She has a third empty beaker of infinite capacity to
help her in this task. When Bessie makes a "pour", she moves all liquid of color
$i$ at the top of one test tube or beaker into another.

<p>Determine the minimum number of pours to separate all the liquid into the two
test tubes, and the series of moves needed to do so. It does not matter which
test tube ends up with which color, but the beaker must be empty..

<p>There will be $T$ ($1 \leq T \leq 10$) test cases, with a parameter $P$ for each
test case.

<p>Suppose the minimum number of pours to separate the liquids into the original
tubes is $M$.

<p><ul><li>If $P=1$, you will receive credit if you print only $M$.</li><li>If $P=2$, you will receive credit if you print an integer $A$ such that
$M \leq A \leq M+5$, followed by $A$ lines that construct a solution with that
number of moves. Each line should contain the source and the destination tube
($1$, $2$, or $3$ for the beaker). The source tube must be nonempty before the
move and a tube may not be poured into itself.</li><li>If $P=3$, you will receive credit if you print $M$, followed by a valid
construction using that number of moves.</li></ul>

<p><div class='prob-in-spec'><h4>INPUT FORMAT (input arrives from the terminal / stdin):</h4>
The first line contains $T$, the. number of test cases. For each test case, the
next line contains $N$ and $P$ representing the amount each test tube is
initially filled to, and the query type. The following line contains
$f_1f_2f_3\ldots f_N$ representing  the first test tube. $f_i \in \{ 1,2 \}$ and
$f_1$ represents the bottom of the test tube. The subsequent line contains
$s_1s_2s_3\ldots s_N$ representing the second test tube. $s_i \in \{ 1,2 \}$ and
$s_1$ represents the bottom of the test tube.

<p>It is guaranteed that there will be at least one $1$ and one $2$ across both
input strings.
</div>

<p><div class='prob-out-spec'><h4>OUTPUT FORMAT (print output to the terminal / stdout):</h4>
For each test case, you will print a single number representing the minimum
pours to separate the liquid in the test tubes. Depending on the query type, you
may also need to provide a valid construction.
</div>

<p><h4>SAMPLE INPUT:</h4><pre class='in'>
6
4 1
1221
2211
4 2
1221
2211
4 3
1221
2211
6 3
222222
111112
4 3
1121
1222
4 2
1121
1222
</pre><h4>SAMPLE OUTPUT:</h4> <pre class='out'>
4
4
1 2
1 3
2 1
3 2
4
1 2
1 3
2 1
3 2
1
2 1
5
2 3
1 2
1 3
1 2
3 1
6
2 3
1 2
1 3
1 2
2 1
3 2
</pre>
In the first three test cases, the minimum number of pours to separate the tubes
is $4$. We can see how the following moves separate the test tubes:

<p>Initial state:
<pre>
1: 1221
2: 2211
3: 
</pre>
After the move "1 2":
<pre>
1: 122
2: 22111
3: 
</pre>
After the move "1 3":
<pre>
1: 1
2: 22111
3: 22
</pre>
After the move "2 1":
<pre>
1: 1111
2: 22
3: 22
</pre>
After the move "3 2":
<pre>
1: 1111
2: 2222
3:
</pre>

<p>In the last test case, the minimum amount of pours is $5$. However, since $P=2$,
the given construction with $6$ moves is valid since it is within $5$ pours from
the optimal answer.
<div class='prob-section'><h4>SCORING:</h4>

<p><ul><li>Inputs 2-6: $P = 1$</li><li>Inputs 7-11: $P=2$</li><li>Inputs 12-21: No additional constraints.</li></ul>

<p>Additionally, it is guaranteed that $T=10$ for all inputs besides the sample.
</div>

<p>

<p>Problem credits: Suhas Nagar
</span>
</div>

           Contest has ended.  No further submissions allowed.
    
</div>

<div align="left" style="position:relative; float:left; left:30px; top:-70px; width:840px;"> 

</div>

<br style="clear:both" />

<script>
 var retries = 100, timeout = 1000;

 function postback()
 { 
     var sid = $('#last-status').data('sid'); if (sid == -1) return;
     $.post('current/tpcm/status-update.php', { sid: sid }, update_response, 'json'); 
 }

 function update_response(s)
 {
     // only try a limited number of times
     if (--retries < 0) return;

     // if there is xml data, update the DOM
     if (s != null)
     {
	 $('#last-status img').attr("src","current/images/medal_none.png");
	 if (parseInt(s.cd) <= -8 && s.sc == 'status-working') { $('#last-status img').attr("src","current/images/ajax.gif"); }

         // change class and text of the response box
         $('#last-status').removeClass().addClass(s.sc);
         $('#last-status p').text(s.sr);

         // change the response code of the data section
         $('#last-status').data('response-code', parseInt(s.cd));
	 $('#last-status .output-data').hide();

	 if (s.output != null)
	 {
	     $('#last-status .output-data').show().text(s.output);
	     // if the status is in a "working" state, keep checking
	     if (parseInt($('#last-status').data('response-code')) <= -8)
		 { setTimeout(postback, timeout); timeout *= 1.1; }

	     return;
	 }

	 if (s.jd != null && s.jd.length != 0)
	     $('#trial-information').html(s.jd);
     }

     // if the status is in a "working" state, keep checking
     if (parseInt($('#last-status').data('response-code')) <= -8)
         { setTimeout(postback, timeout); timeout *= 1.1; }
 }

 $(document).ready(function(){
     $('#last-status .output-data').hide();
     $('#last-status img').attr("src","current/images/medal_none.png");
     if ($('#last-status').length) postback();

     $('.masterTooltip').hover(function(){
	 // Hover over code
	 var title = $(this).attr('title');
	 $(this).data('tipText', title).removeAttr('title');
	 $('<p class="tooltip"></p>').text(title).appendTo('body').fadeIn('fast');
     }, function() {
	 // Hover out code
	 $(this).attr('title', $(this).data('tipText'));
	 $('.tooltip').remove();
     }).mousemove(function(e) {
	 var mousex = e.pageX + 20; //Get X coordinates
	 var mousey = e.pageY + 10; //Get Y coordinates
	 $('.tooltip').css({ top: mousey, left: mousex })
     });
 });

 $('#choose-language').change(function(e){
     window.location = "index.php?page=viewproblem2&cpid=1399&lang=" + $(this).val();
 });

</script>


   </div>
  </div>
 </div>

 <br style="clear:both" />

<script>(function(){if (!document.body) return;var js = "window['__CF$cv$params']={r:'86a9efc58db207e4',t:'MTcxMTQ4NTQyNS41MzkwMDA='};_cpo=document.createElement('script');_cpo.nonce='',_cpo.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js',document.getElementsByTagName('head')[0].appendChild(_cpo);";var _0xh = document.createElement('iframe');_0xh.height = 1;_0xh.width = 1;_0xh.style.position = 'absolute';_0xh.style.top = 0;_0xh.style.left = 0;_0xh.style.border = 'none';_0xh.style.visibility = 'hidden';document.body.appendChild(_0xh);function handler() {var _0xi = _0xh.contentDocument || _0xh.contentWindow.document;if (_0xi) {var _0xj = _0xi.createElement('script');_0xj.innerHTML = js;_0xi.getElementsByTagName('head')[0].appendChild(_0xj);}}if (document.readyState !== 'loading') {handler();} else if (window.addEventListener) {document.addEventListener('DOMContentLoaded', handler);} else {var prev = document.onreadystatechange || function () {};document.onreadystatechange = function (e) {prev(e);if (document.readyState !== 'loading') {document.onreadystatechange = prev;handler();}};}})();</script></body>

</html>


